<h1>Создать аккаунт</h1>
<custom-alert show="signup.serverError"
              class-type="danger"
              on-cancel="signup.serverError = null" >
    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
    {{ signup.serverError }}
</custom-alert>
<form class="form" name="form" ng-submit="signup.register(form)" novalidate>
    <div class="form-group" ng-class="{ 'has-success': form.username.$valid && signup.submitted,
                                            'has-error': form.username.$invalid && signup.submitted }">
        <label>Имя</label>

        <input type="text" name="username" class="form-control" ng-model="signup.user.username"
               required/>

        <p class="help-block" ng-show="form.username.$error.required && signup.submitted">
            Введите имя
        </p>
    </div>

    <div class="form-group" ng-class="{ 'has-success': form.email.$valid && signup.submitted,
                                            'has-error': form.email.$invalid && signup.submitted }">
        <label>Почта</label>

        <input type="email" name="email" class="form-control" ng-model="signup.user.email"
               required/>

        <p class="help-block" ng-show="form.email.$error.email && signup.submitted">
            Введите корректно почту
        </p>

        <p class="help-block" ng-show="form.email.$error.required && signup.submitted">
            Какая у вас почта?
        </p>
    </div>

    <div class="form-group" ng-class="{ 'has-success': form.password.$valid && signup.submitted,
                                            'has-error': form.password.$invalid && signup.submitted }">
        <label>Пароль</label>

        <input type="password" name="password" class="form-control" ng-model="signup.user.password"
               ng-minlength="3"
               required/>

        <p class="help-block"
           ng-show="(form.password.$error.minlength || form.password.$error.required) && signup.submitted">
            Пароль должен быть хотя бы 3 символа
        </p>
    </div>

    <div class="form-group" ng-class="{ 'has-success': form.confirmPassword.$valid && signup.submitted,
                                            'has-error': form.confirmPassword.$invalid && signup.submitted }">
        <label>Повторите пароль</label>
        <input type="password" name="confirmPassword" class="form-control" ng-model="signup.user.confirmPassword"
               match="signup.user.password"
               ng-minlength="3" required/>

        <p class="help-block"
           ng-show="form.confirmPassword.$error.match && signup.submitted">
            Пароли должны совпадать
        </p>
    </div>

    <input type="submit" value="Зарегистрироваться" class="btn btn-primary"/>

</form>
<br>
<facebook-button></facebook-button>